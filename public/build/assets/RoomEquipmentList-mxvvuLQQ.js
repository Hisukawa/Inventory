import{r as l,j as e}from"./app-O_YLbRGt.js";import{Q as y}from"./index-DoJ6xLXw.js";import{A as w}from"./app-sidebar-6deBxF2G.js";import{S as v,a as S,b as k,c as C,B as R,d as L,e as c,f as d}from"./nav-user-Bu5TMINf.js";import"./index-CK6QE9rS.js";import"./index-DR18UNf3.js";function Q({room:a,equipments:m,system_units:x=[]}){const[b,h]=l.useState(!1),[t,p]=l.useState({url:"",label:""}),[g,r]=l.useState(!1),u=()=>{navigator.clipboard.writeText(t.url).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},j=()=>{h(!1),p({url:"",label:""}),r(!1)},f={functional:"bg-green-500",intact:"bg-green-500","under maintenance":"bg-yellow-400",worn:"bg-yellow-400",defective:"bg-red-500",damaged:"bg-red-500","for replacement":"bg-orange-500","needs replacement":"bg-orange-500",missing:"bg-rose-400",spare:"bg-gray-400"},n=[...m,...x];return e.jsxs(v,{children:[e.jsx(w,{}),e.jsxs(S,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(k,{}),e.jsx(C,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(R,{children:e.jsxs(L,{children:[e.jsx(c,{children:e.jsx(d,{href:"/admin/rooms/list",children:"Room List"})}),e.jsx(c,{children:e.jsx(d,{href:"#",children:a.room_name})})]})})]}),e.jsxs("main",{className:"p-6 max-w-6xl mx-auto",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Equipments in ",a.room_name]}),n.length===0?e.jsx("p",{className:"text-gray-600",children:"No equipment found in this room."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:n.map(s=>{var i,o;const N=((i=s.status)==null?void 0:i.toLowerCase())||"unknown";return e.jsxs("div",{className:"bg-white p-6 border rounded shadow text-left min-w-[200px] min-h-[250px] flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold mb-3",children:s.equipment_name}),e.jsxs("p",{className:"text-base text-gray-700 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Type:"})," ",s.type||"N/A"]}),e.jsxs("p",{className:"text-base text-gray-700 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Room:"})," ",((o=s.room)==null?void 0:o.room_name)||a.room_name||"N/A"]}),e.jsxs("div",{className:"mt-2 mb-3",children:[e.jsxs("span",{className:"font-semibold text-base",children:["Status:"," "]}),e.jsx("span",{className:`inline-block text-white px-3 py-1 mt-1 rounded-full text-sm ${f[N]||"bg-gray-300"}`,children:s.status||"Unknown"})]})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("a",{href:`/system-unit/${s.equipment_path}`,className:"inline-block px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition",children:"View"})})]},s.id)})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:j,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",onClick:s=>s.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:t.label}),e.jsx("div",{className:"flex justify-center mb-2 cursor-pointer",onClick:u,title:"Click to copy QR URL",children:e.jsx(y,{value:t.url,size:350})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 break-all text-center",children:t.url}),g&&e.jsx("p",{className:"text-green-600 text-center text-sm mt-1",children:"Copied to clipboard!"})]})})]})]})]})}export{Q as default};
