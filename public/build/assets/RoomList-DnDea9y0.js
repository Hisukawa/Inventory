import{r as t,j as e,S as g}from"./app-5iw6xc5x.js";import{Q as c}from"./index-Cvf6ygIg.js";import{A as N}from"./app-sidebar-BstEv5xq.js";import{S as w,a as v,b as S,c as y,B as C,d as k,e as R,f as $}from"./nav-user-BAK9WXFC.js";import"./index-mARTxFm2.js";import"./index-BvU5IEqg.js";function T(i){var d;const{rooms:m}=i,[x,l]=t.useState(!1),[a,o]=t.useState(""),[h,n]=t.useState(""),[u,r]=t.useState(!1),p=(s,f)=>{o(s),n(f),l(!0)},b=()=>{l(!1),o(""),n(""),r(!1)},j=()=>{navigator.clipboard.writeText(a).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})};return e.jsxs(w,{children:[e.jsx(N,{}),e.jsxs(v,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(S,{}),e.jsx(y,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(C,{children:e.jsx(k,{children:e.jsx(R,{children:e.jsx($,{href:"/admin/rooms/list",children:"Room List"})})})})]}),e.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-left",children:"All Added Rooms"}),((d=i.flash)==null?void 0:d.success)&&e.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded mb-6 shadow",children:i.flash.success}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center",children:m.map(s=>e.jsxs("div",{className:"w-full max-w-sm p-4 bg-white border rounded shadow text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:s.room_name}),e.jsx("div",{className:"flex justify-center cursor-pointer mb-2",onClick:()=>p(`${window.location.origin}/admin/rooms/${s.id}/equipments`,s.room_name),title:"Click to enlarge",children:e.jsx(c,{value:`${window.location.origin}/admin/rooms/${s.id}/equipments`,size:150})}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("a",{href:`/admin/rooms/${s.id}/equipments`,className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 transition text-sm",children:"View Equipments"}),e.jsx("button",{onClick:()=>{confirm(`Delete ${s.room_name}? This cannot be undone.`)&&g.delete(`/admin/rooms/${s.id}`)},className:"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 transition text-sm",children:"Delete"})]})]},s.id))}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:b,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",onClick:s=>s.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:h}),e.jsx("div",{className:"flex justify-center mb-2 cursor-pointer",onClick:j,title:"Click to copy QR value",children:e.jsx(c,{value:a,size:350})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 break-all text-center",children:a}),u&&e.jsx("p",{className:"text-green-600 text-sm text-center mt-1",children:"Copied to clipboard!"})]})})]})]})]})}export{T as default};
