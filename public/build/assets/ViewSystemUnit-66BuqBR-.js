import{r as d,j as e}from"./app-90NRFl5G.js";import{Q as g}from"./index-inUGv1Zh.js";import{A as C}from"./app-sidebar-lP8RzBoc.js";import{S as R,a as q,b as y,c as Q,B as z,d as L,e as p,f as j}from"./nav-user-BewcmXZc.js";import"./index-D-UL7pJy.js";import"./index-xHE1Lcl1.js";function A({system_unit:a}){var h;const[l,x]=d.useState(!1),[b,o]=d.useState(!1),m=d.useRef(null),i=`${window.location.origin}/system-unit/${a.equipment_path}`,u=()=>{x(!0),o(!1)},f=()=>x(!1),v=()=>{navigator.clipboard.writeText(i).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},w=()=>{const n=m.current.querySelector("svg"),N=new XMLSerializer().serializeToString(n),r=document.createElement("canvas"),S=r.getContext("2d"),t=new Image;t.onload=()=>{r.width=t.width,r.height=t.height,S.drawImage(t,0,0);const k=r.toDataURL("image/png"),c=document.createElement("a");c.download=`${a.equipment_name}-qr.png`,c.href=k,c.click()},t.src=`data:image/svg+xml;base64,${btoa(N)}`};return e.jsxs(R,{children:[e.jsx(C,{}),e.jsxs(q,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(y,{}),e.jsx(Q,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(z,{children:e.jsxs(L,{children:[e.jsx(p,{children:e.jsx(j,{href:"/admin/rooms/list",children:"Rooms List"})}),e.jsx(p,{children:e.jsx(j,{href:"#",children:(a==null?void 0:a.equipment_name)||"System Unit"})})]})})]}),e.jsx("main",{className:"p-6",children:e.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"System Unit Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsx(s,{label:"Equipment Name",value:a.equipment_name}),e.jsx(s,{label:"Room",value:((h=a.room)==null?void 0:h.room_name)||"Unknown"}),e.jsx(s,{label:"Brand",value:a.brand}),e.jsx(s,{label:"Processor",value:a.processor}),e.jsx(s,{label:"RAM",value:a.ram}),e.jsx(s,{label:"Storage",value:a.storage}),e.jsx(s,{label:"Operating System",value:a.os}),e.jsx(s,{label:"Status",value:a.status})]}),a.equipment_path&&e.jsx("div",{className:"mt-8 max-w-xs mx-auto",children:e.jsxs("div",{className:"bg-white border rounded-lg shadow hover:shadow-lg transition p-4 cursor-pointer text-center",onClick:u,title:"Click to enlarge QR code",children:[e.jsx("h2",{className:"text-base font-semibold mb-4 text-gray-800",children:"View QR Code"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(g,{value:i,size:150})}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click the QR code to enlarge and copy the link"})]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:f,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",onClick:n=>n.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:a.equipment_name}),e.jsx("div",{className:"flex justify-center mb-2 cursor-pointer",onClick:v,title:"Click to copy full URL",children:e.jsx("div",{ref:m,children:e.jsx(g,{value:i,size:300})})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 break-all text-center",children:"Click QR Code to copy the link."}),b&&e.jsx("p",{className:"text-green-600 text-sm text-center mt-1",children:"Link copied to clipboard!"}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:w,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded text-sm",children:"Save QR Code as Image"})})]})})]})]})}const s=({label:a,value:l})=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[a,":"]}),e.jsx("p",{className:"text-gray-900 break-all",children:l||"â€”"})]});export{A as default};
