import{r as x,j as e}from"./app-Bj0PYUt-.js";import{Q as g}from"./index-B7HpA7ae.js";import{A as S}from"./app-sidebar-Br31uFR8.js";import{S as C,a as R,b as q,c as _,B as E,d as Q,e as u,f as j}from"./nav-user-ccjVWdjA.js";import"./index-CXmW9CAm.js";import"./index-B4HeAbAL.js";function D({equipment:s}){const[n,m]=x.useState(!1),[p,o]=x.useState(!1),h=x.useRef(null),b=()=>{m(!0),o(!1)},f=()=>{m(!1)},v=()=>{const r=`${window.location.origin}/equipment/${s.qr_code}`;navigator.clipboard.writeText(r).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},w=()=>{const r=h.current.querySelector("svg"),N=new XMLSerializer().serializeToString(r),i=document.createElement("canvas"),y=i.getContext("2d"),l=new Image;l.onload=()=>{i.width=l.width,i.height=l.height,y.drawImage(l,0,0);const k=i.toDataURL("image/png"),d=document.createElement("a");d.download=`${s.equipment_name}-qr.png`,d.href=k,d.click()},l.src=`data:image/svg+xml;base64,${btoa(N)}`},{specifications:t={},room:c}=s;return e.jsxs(C,{children:[e.jsx(S,{}),e.jsxs(R,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(q,{}),e.jsx(_,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(E,{children:e.jsxs(Q,{children:[e.jsx(u,{children:e.jsx(j,{href:"/admin/equipments/list",children:"Equipment List"})}),e.jsx(u,{children:e.jsx(j,{href:"#",children:s.equipment_name})})]})})]}),e.jsx("main",{className:"p-6",children:e.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Equipment Details"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[e.jsx(a,{label:"Equipment Name",value:s.equipment_name}),e.jsx(a,{label:"Room",value:(c==null?void 0:c.room_name)||"Unknown"}),e.jsx(a,{label:"Equipment ID / QR Path",value:s.qr_code}),e.jsx(a,{label:"Brand",value:t.brand}),e.jsx(a,{label:"Processor",value:t.processor}),e.jsx(a,{label:"RAM",value:t.ram}),e.jsx(a,{label:"Storage",value:t.storage}),e.jsx(a,{label:"Operating System",value:t.os}),e.jsx(a,{label:"Status",value:s.status||"Active"})]}),s.qr_code&&e.jsx("div",{className:"mt-8 max-w-xs mx-auto",children:e.jsxs("div",{className:"bg-white border rounded-lg shadow hover:shadow-lg transition p-4 cursor-pointer text-center",onClick:b,title:"Click to enlarge QR code",children:[e.jsx("h2",{className:"text-base font-semibold mb-4 text-gray-800",children:"View QR Code"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(g,{value:`${window.location.origin}/equipment/${s.qr_code}`,size:150})}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click the QR code to enlarge and copy the link"})]})})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:f,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",onClick:r=>r.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:s.equipment_name}),e.jsx("div",{className:"flex justify-center mb-2 cursor-pointer",onClick:v,title:"Click to copy full URL",children:e.jsx("div",{ref:h,children:e.jsx(g,{value:`${window.location.origin}/equipment/${s.qr_code}`,size:300})})}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 break-all text-center",children:[" ","Click QR Code to copy the Link."]}),p&&e.jsx("p",{className:"text-green-600 text-sm text-center mt-1",children:"Link copied to clipboard!"}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:w,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded text-sm",children:"Save QR Code as Image"})})]})})]})]})}const a=({label:s,value:n})=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-700",children:[s,":"]}),e.jsx("p",{className:"text-gray-900 break-all",children:n||"â€”"})]});export{D as default};
