import{r as x,x as p,j as e}from"./app-DN-hYbi0.js";import{S as n}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as u,a as h,b,c as j}from"./nav-user-By3U3vv0.js";import{A as w}from"./app-sidebar-BmhHHsXO.js";import"./index-CG1DleMN.js";import"./index-Dh6IDVCQ.js";function C(){const[l,i]=x.useState(!1),{data:r,setData:t,post:o,errors:a,reset:c}=p({name:"",email:"",password:"",password_confirmation:"",role:"guest"}),d=s=>{s.preventDefault();const m=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&()#^+=])[A-Za-z\d@$!%*?&()#^+=]{8,}$/;if(r.name.trim().length<3){n.fire({icon:"warning",title:"Invalid Name",text:"Name must be at least 3 characters long."});return}if(!m.test(r.password)){n.fire({icon:"error",title:"Weak Password",text:"Password must be at least 8 characters long and include uppercase (A), lowercase (a), number (1), and special character (#)."});return}o("/admin/users",{preserveScroll:!0,onSuccess:()=>{c(),n.fire({icon:"success",title:"User Created",text:"User has been successfully added!",timer:2e3,showConfirmButton:!1})}})};return e.jsxs(u,{children:[e.jsx(w,{}),e.jsxs(h,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(b,{}),e.jsx(j,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Create User"})]}),e.jsx("main",{className:"max-w-4xl mx-auto mt-10 bg-white p-6 rounded shadow",children:e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",className:"w-full border px-3 py-2",value:r.name,onChange:s=>t("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",className:"w-full border px-3 py-2",value:r.email,onChange:s=>t("email",s.target.value)}),a.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:l?"text":"password",className:"w-full border px-3 py-2",value:r.password,onChange:s=>t("password",s.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:l?"text":"password",className:"w-full border px-3 py-2",value:r.password_confirmation,onChange:s=>t("password_confirmation",s.target.value)}),a.password&&e.jsx("p",{className:"text-red-500 text-sm",children:a.password})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"inline-flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:()=>i(!l)}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Password"})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{className:"w-full border px-3 py-2",value:r.role,onChange:s=>t("role",s.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"faculty",children:"Faculty"}),e.jsx("option",{value:"technician",children:"Technician"}),e.jsx("option",{value:"guest",children:"Guest"})]}),a.role&&e.jsx("p",{className:"text-red-500 text-sm",children:a.role})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Create User"})]})})]})]})}export{C as default};
