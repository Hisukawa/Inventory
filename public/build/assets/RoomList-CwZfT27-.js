import{r as a,j as e,S as j}from"./app-C4CQ9bJK.js";import{Q as o}from"./index-CxTYi8Ea.js";import{A as f}from"./app-sidebar-DCKx5QOf.js";import{S as g,a as p,b as N,c as w,B as v,d as S,e as y,f as k}from"./nav-user-CplWAsSr.js";import"./index-Ds_hzrnE.js";import"./index-BR2NChUq.js";function q(t){var n;const{rooms:c}=t,[m,i]=a.useState(!1),[r,l]=a.useState(""),[x,d]=a.useState(""),h=(s,u)=>{l(s),d(u),i(!0)},b=()=>{i(!1),l(""),d("")};return e.jsxs(g,{children:[e.jsx(f,{}),e.jsxs(p,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(N,{}),e.jsx(w,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(v,{children:e.jsx(S,{children:e.jsx(y,{children:e.jsx(k,{href:"/admin/rooms/list",children:"Room List"})})})})]}),e.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-left",children:"All Added Rooms"}),((n=t.flash)==null?void 0:n.success)&&e.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded mb-6 shadow",children:t.flash.success}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center",children:c.map(s=>e.jsxs("div",{className:"w-full max-w-sm p-4 bg-white border rounded shadow text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:s.room_name}),e.jsx("div",{className:"flex justify-center cursor-pointer mb-2",onClick:()=>h(`${window.location.origin}/${s.qr_code}`,s.room_name),title:"Click to enlarge",children:e.jsx(o,{value:`${window.location.origin}/${s.qr_code}`,size:150})}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("a",{href:`/admin/rooms/${s.id}/equipments`,className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 transition text-sm",children:"View Equipments"}),e.jsx("button",{onClick:()=>{confirm(`Delete ${s.room_name}? This cannot be undone.`)&&j.delete(`/admin/rooms/${s.id}`)},className:"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 transition text-sm",children:"Delete"})]})]},s.id))}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:b,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",onClick:s=>s.stopPropagation(),children:[e.jsxs("h2",{className:"text-lg font-bold mb-4 text-center",children:[x," "]}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(o,{value:r,size:350})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 break-all text-center",children:r})]})})]})]})]})}export{q as default};
