import{J as p,r as h,x as u,j as e}from"./app-5iw6xc5x.js";import{S as n}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as b,a as j,b as w,c as f}from"./nav-user-BAK9WXFC.js";import{A as N}from"./app-sidebar-BstEv5xq.js";import"./index-BvU5IEqg.js";import"./index-mARTxFm2.js";function U({user:l}){var o;(o=p().props)!=null&&o.flash;const[i,d]=h.useState(!1),{data:a,setData:t,put:c,errors:r}=u({name:l.name||"",email:l.email||"",password:"",password_confirmation:"",role:l.role||"guest"}),m=s=>{s.preventDefault();const x=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&()#^+=])[A-Za-z\d@$!%*?&()#^+=]{8,}$/;if(a.name.trim().length<3){n.fire({icon:"warning",title:"Invalid Name",text:"Name must be at least 3 characters long."});return}if(a.password&&!x.test(a.password)){n.fire({icon:"error",title:"Weak Password",text:"Password must be at least 8 characters long and include uppercase, lowercase, number, and special character."});return}c(`/admin/users/${l.id}`,{onSuccess:()=>{n.fire({icon:"success",title:"Updated!",text:"User updated successfully.",timer:2e3,showConfirmButton:!1})}})};return e.jsxs(b,{children:[e.jsx(N,{}),e.jsxs(j,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(w,{}),e.jsx(f,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Edit User"})]}),e.jsx("main",{className:"max-w-4xl mx-auto mt-10 bg-white p-6 rounded shadow",children:e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",className:"w-full border px-3 py-2",value:a.name,onChange:s=>t("name",s.target.value)}),r.name&&e.jsx("p",{className:"text-red-500 text-sm",children:r.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",className:"w-full border px-3 py-2",value:a.email,onChange:s=>t("email",s.target.value)}),r.email&&e.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"New Password"}),e.jsx("input",{type:i?"text":"password",className:"w-full border px-3 py-2",value:a.password,onChange:s=>t("password",s.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:i?"text":"password",className:"w-full border px-3 py-2",value:a.password_confirmation,onChange:s=>t("password_confirmation",s.target.value)}),r.password&&e.jsx("p",{className:"text-red-500 text-sm",children:r.password})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"inline-flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:()=>d(!i)}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show Password"})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{className:"w-full border px-3 py-2",value:a.role,onChange:s=>t("role",s.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"faculty",children:"Faculty"}),e.jsx("option",{value:"technician",children:"Technician"}),e.jsx("option",{value:"guest",children:"Guest"})]}),r.role&&e.jsx("p",{className:"text-red-500 text-sm",children:r.role})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Update User"})]})})]})]})}export{U as default};
